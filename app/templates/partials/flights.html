{% if flights and (flights.departures or flights.arrivals) %}
<div class="flights-content">
    {% if flights.departures %}
    <div class="section-title">DEPARTURES</div>
    {% for flight in flights.departures[:8] %}
    <div class="flight-item">
        <span class="flight-code">{{ flight.code }}</span>
        <span class="flight-dest">{{ flight.destination }}</span>
        <span class="flight-time">{{ flight.time }}</span>
        <span class="flight-status {{ flight.status }}">
            {% if flight.status == 'delayed' and flight.delay %}
                +{{ flight.delay }}m
            {% elif flight.status == 'on-time' %}
                ON TIME
            {% elif flight.status == 'boarding' %}
                BOARD
            {% elif flight.status == 'departed' %}
                DEP
            {% else %}
                {{ flight.status|upper }}
            {% endif %}
        </span>
    </div>
    {% endfor %}
    {% endif %}
    
    {% if flights.arrivals %}
    <div class="section-title" style="margin-top: 10px;">ARRIVALS</div>
    {% for flight in flights.arrivals[:8] %}
    <div class="flight-item">
        <span class="flight-code">{{ flight.code }}</span>
        <span class="flight-dest">{{ flight.origin if flight.origin else flight.destination }}</span>
        <span class="flight-time">{{ flight.time }}</span>
        <span class="flight-status {{ flight.status }}">
            {% if flight.status == 'delayed' and flight.delay %}
                +{{ flight.delay }}m
            {% elif flight.status == 'arrived' %}
                ARR
            {% elif flight.status == 'on-time' %}
                ON TIME
            {% else %}
                {{ flight.status|upper }}
            {% endif %}
        </span>
    </div>
    {% endfor %}
    {% endif %}
    
    <div class="freshness">
        Source: {{ flights.source|upper }} | Updated: {{ flights.updated }}
        <a href="https://www.flightradar24.com/data/airports/ams" target="_blank" style="color: var(--accent-cyan); text-decoration: none; margin-left: 8px; font-size: 8px;">
            → Full view
        </a>
    </div>
</div>
{% else %}
<div class="info-message">
    <div style="margin-bottom: 10px;">Loading flight data...</div>
    <a href="https://www.flightradar24.com/data/airports/ams" target="_blank" style="color: var(--accent-cyan); text-decoration: none; font-size: 9px;">
        View on Flightradar24 →
    </a>
</div>
{% endif %}
